
Register the Application
Log in to Github. Register the application in your Github personal settings. On the Register a new OAuth application page, fill in the following text boxes: Application name: Type an arbitrary application name. For this example, use oauth-grant-code. Homepage URL: For this example, use http://localhost:8082. Authorization callback URL: For this example, use http://localhost:8082/callback. Click Register application. Github creates a page for the registered application on https://github.com/settings/applications/ that includes the Github-assigned client ID and client secret.

Mule Client - Anypoint Studio
Add the OAuth Module from the palette. In Studio, select the HTTP Request Configuration global element where you want to use the OAuth authorization code grant type. On the Authentication combo box, select Authorization code grant type. Set the following options: Local callback URL: http://localhost:8082/callback External callback URL: http://localhost:8082/callback Local Authorization Url: https://localhost:8082/login Authorization Url: https://github.com/login/oauth/authorize Client Id: Type the client Id that Github provided when you registered the app. Client Secret: Type the client secret that Github provided when you registered the app. Token Url: https://github.com/login/oauth/access_token Response Access Token: #[payload.'access_token'] Response Refresh Token: #[payload.'access_token'] Response Expires in : #[payload.expires_in] ## Unit Testing Right-click the project name in project explorer, and choose Run as > Mule Application. The console shows that the app is deployed. In a browser, enter the local authorization URL http://localhost:8082/login to initiate the OAuth2 dance. Github prompts you to log in. Log in using your Github user name and password. Github prompts you to authorize the application you registered to run. Send the request with post man. Request

GET: http://localhost:8081/oauth2

Response

{ "login": "testearch", "id": 13714091, "node_id": "MDQ6VXNlcjEzNzE0MDkx", "avatar_url": "https://avatars2.githubusercontent.com/u/13714091?v=4", "gravatar_id": "", "url": "https://api.github.com/users/testearch", "html_url": "https://github.com/testearch", "followers_url": "https://api.github.com/users/testearch/followers", "following_url": "https://api.github.com/users/testearch/following{/other_user}", "gists_url": "https://api.github.com/users/testearch/gists{/gist_id}", "starred_url": "https://api.github.com/users/testearch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/testearch/subscriptions", "organizations_url": "https://api.github.com/users/testearch/orgs", "repos_url": "https://api.github.com/users/testearch/repos", "events_url": "https://api.github.com/users/testearch/events{/privacy}", "received_events_url": "https://api.github.com/users/testearch/received_events", "type": "User", "site_admin": false, "name": "test", "company": "@test", "blog": "https://github.com/settings/profile", "location": "https://getpostman.com/oauth2/callback", "email": "testsrinivas@gmail.com", "hireable": null, "bio": null, "public_repos": 3, "public_gists": 0, "followers": 0, "following": 0, "created_at": "2015-08-09T04:12:17Z", "updated_at": "2019-01-14T02:36:11Z" }
